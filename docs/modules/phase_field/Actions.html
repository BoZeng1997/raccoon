<!DOCTYPE html><head><meta charset="UTF-8"><link rel="icon" type="image/x-icon" href="../../media/raccoon_icon.png" sizes="16x16 32x32 64x64 128x128"></link><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script><title>Custom Phase Field Actions|RACCOON</title></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="https://hugary1995.github.io/raccoon/index.html" class="left moose-logo hide-on-med-and-down">RACCOON</a><a href="https://github.com/hugary1995/raccoon" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="../../install/index.html">Install</a></li><li class="moose-mega-menu-trigger" data-target="0d65db5d-20d8-40f7-bfab-a8d50ff6af73"><a>Benchmarks<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../theory/index.html">Theory</a></li><li><a href="../index.html">Modules</a></li><li><a href="../../syntax/index.html">Syntax</a></li></ul><a href="#" class="sidenav-trigger" data-target="4d54a851-25b8-4748-a637-b4bc53918258"><i class="material-icons">menu</i></a><ul class="sidenav" id="4d54a851-25b8-4748-a637-b4bc53918258"><li><a href="../../install/index.html">Install</a></li><li><a href="../../benchmarks.menu.html">Benchmarks</a></li><li><a href="../../theory/index.html">Theory</a></li><li><a href="../index.html">Modules</a></li><li><a href="../../syntax/index.html">Syntax</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="moose-mega-menu-content" id="0d65db5d-20d8-40f7-bfab-a8d50ff6af73"><div class="moose-mega-menu-wrapper"><div class="row row"><div class="col s12 m6 l4"><h2 id="mode-i-crack-propagation"><a href="../../benchmarks/mode1.html">Mode I crack propagation <i class="material-icons moose-inline-icon">link</i></a></h2><img src="../../media/mode1.gif" class="materialboxed moose-image" style="width:75%;float:left;padding-top:2.5%;"></img><p></p></div><div class="col s12 m6 l4"><h2 id="mode-ii-crack-propagation"><a href="../../benchmarks/mode2.html">Mode II crack propagation <i class="material-icons moose-inline-icon">link</i></a></h2><img src="../../media/mode2.gif" class="materialboxed moose-image" style="width:75%;float:left;padding-top:2.5%;"></img><p></p></div><div class="col s12 m6 l4"><h2 id="soil-desiccation"><a href="../../benchmarks/mud.html">Soil desiccation <i class="material-icons moose-inline-icon">link</i></a></h2><img src="../../media/soil.gif" class="materialboxed moose-image" style="width:75%;float:left;padding-top:2.5%;"></img><p></p></div></div></div></div><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="https://hugary1995.github.io/raccoon/index.html" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">modules</a><a href="." class="breadcrumb">phase_field</a><a href="#" class="breadcrumb">Actions</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="24870fa7-b5e0-40df-8e6a-7115e9b68376" data-section-level="1" data-section-text="Custom Phase Field Actions"><h1 id="custom-phase-field-actions">Custom Phase Field Actions</h1><p>To simplify the formation of input files that use standard Allen-Cahn and Cahn-Hilliard equations, custom actions have been created that automatically create conserved and nonconserved phase field field variables and all the corresponding kernels. Additional kernels can still be added using standard MOOSE syntax.</p><p>The actions are in the phase field block, under the modules block. Nonconserved variables are created using <a href="../../source/action/NonconservedAction.html">NonconservedAction</a>. For an example, see</p><pre class="moose-pre"><code class="language-text">[Modules]
  [./PhaseField]
    [./Nonconserved]
      [./eta]
        free_energy = F
        kappa = 2.0
        mobility = 1.0
        variable_mobility = false
      [../]
    [../]
  [../]
[]
</code></pre><a href="#f54747b0-5181-4102-846a-8c2532d94eb0" class="modal-trigger">(../moose/modules/phase_field/test/tests/actions/Nonconserved_1var.i)</a><div class="modal moose-modal" id="f54747b0-5181-4102-846a-8c2532d94eb0"><div class="modal-content"><h4>/home/gary/projects/moose/modules/phase_field/test/tests/actions/Nonconserved_1var.i</h4><pre class="moose-pre"><code class="language-text">#
# Test the parsed function free enery Allen-Cahn Bulk kernel
#

[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 40
  ny = 40
  xmax = 40
  ymax = 40
  elem_type = QUAD
[]

[Modules]
  [./PhaseField]
    [./Nonconserved]
      [./eta]
        free_energy = F
        kappa = 2.0
        mobility = 1.0
        variable_mobility = false
      [../]
    [../]
  [../]
[]

[ICs]
  [./InitialCondition]
    type = SmoothCircleIC
    variable = eta
    x1 = 20.0
    y1 = 20.0
    radius = 6.0
    invalue = 0.9
    outvalue = 0.1
    int_width = 3.0
  [../]
[]

[Materials]
  [./free_energy]
    type = DerivativeParsedMaterial
    f_name = F
    args = &#x27;eta&#x27;
    function = &#x27;2 * eta^2 * (1-eta)^2 - 0.2*eta&#x27;
    derivative_order = 2
  [../]
[]

[Executioner]
  type = Transient
  scheme = &#x27;bdf2&#x27;

  solve_type = &#x27;NEWTON&#x27;

  l_max_its = 15
  l_tol = 1.0e-4

  nl_max_its = 10
  nl_rel_tol = 1.0e-11

  num_steps = 10
  dt = 1.0
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><p>Conserved variables are created using <a href="../../source/action/ConservedAction.html">ConservedAction</a>. For an example, See</p><pre class="moose-pre"><code class="language-text">[Modules]
  [./PhaseField]
    [./Conserved]
      [./cv]
        solve_type = REVERSE_SPLIT
        free_energy = F
        kappa = 2.0
        mobility = 1.0
      [../]
    [../]
  [../]
[]
</code></pre><a href="#f8b7e258-7961-4d09-b25e-7d55b095ea34" class="modal-trigger">(../moose/modules/phase_field/test/tests/actions/conserved_split_1var.i)</a><div class="modal moose-modal" id="f8b7e258-7961-4d09-b25e-7d55b095ea34"><div class="modal-content"><h4>/home/gary/projects/moose/modules/phase_field/test/tests/actions/conserved_split_1var.i</h4><pre class="moose-pre"><code class="language-text">#
# Test the conserved action with split solve and 1 variable
#
[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 50
  ny = 50
  xmax = 50
  ymax = 50
  elem_type = QUAD
[]

[Modules]
  [./PhaseField]
    [./Conserved]
      [./cv]
        solve_type = REVERSE_SPLIT
        free_energy = F
        kappa = 2.0
        mobility = 1.0
      [../]
    [../]
  [../]
[]

[ICs]
  [./InitialCondition]
    type = CrossIC
    x1 = 5.0
    y1 = 5.0
    x2 = 45.0
    y2 = 45.0
    variable = cv
  [../]
[]

[Materials]
  [./free_energy]
    type = DerivativeParsedMaterial
    f_name = F
    args = &#x27;cv&#x27;
    function = &#x27;(1-cv)^2 * (1+cv)^2&#x27;
  [../]
[]

[Preconditioning]
  [./SMP]
    type = SMP
    full = true
  [../]
[]

[Executioner]
  type = Transient
  scheme = &#x27;bdf2&#x27;

  solve_type = &#x27;NEWTON&#x27;

  l_max_its = 30
  l_tol = 1.0e-5
  nl_max_its = 10
  nl_rel_tol = 1.0e-12

  start_time = 0.0
  num_steps = 5
  dt = 0.7
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><p>and</p><pre class="moose-pre"><code class="language-text">[Modules]
  [./PhaseField]
    [./Conserved]
      [./cv]
        solve_type = direct
        free_energy = F
        kappa = 2.0
        mobility = 1.0
      [../]
    [../]
  [../]
[]
</code></pre><a href="#538a4bc0-b370-40fd-9ce3-24e7310bfb96" class="modal-trigger">(../moose/modules/phase_field/test/tests/actions/conserved_direct_1var.i)</a><div class="modal moose-modal" id="538a4bc0-b370-40fd-9ce3-24e7310bfb96"><div class="modal-content"><h4>/home/gary/projects/moose/modules/phase_field/test/tests/actions/conserved_direct_1var.i</h4><pre class="moose-pre"><code class="language-text">#
# Test consreved action for direct solve
#
[Mesh]
  type = GeneratedMesh
  dim = 2
  nx = 16
  ny = 16
  xmax = 50
  ymax = 50
  elem_type = QUAD
[]

[Modules]
  [./PhaseField]
    [./Conserved]
      [./cv]
        solve_type = direct
        free_energy = F
        kappa = 2.0
        mobility = 1.0
      [../]
    [../]
  [../]
[]

[ICs]
  [./InitialCondition]
    type = CrossIC
    x1 = 5.0
    y1 = 5.0
    x2 = 45.0
    y2 = 45.0
    variable = cv
  [../]
[]

[Materials]
  [./free_energy]
    type = DerivativeParsedMaterial
    f_name = F
    args = &#x27;cv&#x27;
    function = &#x27;(1-cv)^2 * (1+cv)^2&#x27;
  [../]
[]

[Executioner]
  type = Transient
  scheme = &#x27;bdf2&#x27;

  solve_type = &#x27;NEWTON&#x27;

  l_max_its = 30
  l_tol = 1.0e-4
  nl_max_its = 10
  nl_rel_tol = 1.0e-10

  start_time = 0.0
  num_steps = 5
  dt = 0.7
[]

[Outputs]
  [./out]
    type = Exodus
    refinements = 2
  [../]
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div><section class="scrollspy" id="32f304d7-2f61-4fc3-9bd9-572ff163bf8d" data-section-level="2" data-section-text="See also"><h2 id="see-also">See also</h2><ul class="browser-default"><li><p><a href="FAQ">Phase Field FAQ</a> - Frequently asked questions for MOOSE phase-field models.</p></li></ul></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#32f304d7-2f61-4fc3-9bd9-572ff163bf8d" class="tooltipped" data-position="left" data-tooltip="See also">See also</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script>